(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{19:function(e,t,n){e.exports=n(31)},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),o=n.n(i),c=n(10),l=n(6),s=(n(30),n(7)),d=n(8),u=n(2),h=n(12),g=n(11),f=function(){return r.a.createElement("footer",{className:"main-footer"},"Cells can be added while the game is running. Clicking 'Board Size' buttons generates a random configuration for that board at your current speed.")},m=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.drawGrid()}},{key:"componentDidUpdate",value:function(){this.drawGrid()}},{key:"drawGrid",value:function(){var e=this.props,t=e.grid,n=e.height,a=e.width,r=this.canvas.getContext("2d"),i=n/t.length,o=a/t[0].length;r.fillStyle="black",r.strokeStyle="#343436",r.fillRect(0,0,a,n),r.fillStyle="BlueViolet",t.forEach((function(e,t){return e.forEach((function(e,n){r.strokeRect(n*o,t*i,o,i),e&&r.fillRect(n*o,t*i,o,i)}))}))}},{key:"handleClick",value:function(e){var t=window.getComputedStyle(this.canvas),n=t.borderLeftWidth,a=t.borderTopWidth,r=this.props,i=r.addCell,o=r.grid,c=r.height,l=r.width,s=e.clientX-parseFloat(n,10)-this.canvas.offsetLeft,d=e.clientY-parseFloat(a,10)-this.canvas.offsetTop,u=c/o.length,h=l/o[0].length;i(Math.floor(s/h),Math.floor(d/u))}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,a=t.width;return r.a.createElement("canvas",{height:n,onClick:this.handleClick,ref:function(t){e.canvas=t},width:a})}}]),n}(a.Component),p=n(18),v=function(e){var t=e.changeSize,n=e.changeSpeed,a=e.delay,i=e.gridWidth,o=function(e){var n=e.target.textContent.split(" x ").map(Number),a=Object(p.a)(n,2),r=a[0],i=a[1];t(r,i)},c=function(e){n(e.target.textContent)},l=i>450,s=l?"game-board-footer":"game-board-footer game-board-footer--mobile";return r.a.createElement("footer",{className:s},l&&r.a.createElement("p",null,"Board Size:"),l&&r.a.createElement("button",{className:700===i?"btn--size btn--active":"btn--size",onClick:o},"50 x 30"),l&&r.a.createElement("button",{className:840===i?"btn--size btn--active":"btn--size",onClick:o},"70 x 50"),l&&r.a.createElement("button",{className:1e3===i?"btn--size btn--active":"btn--size",onClick:o},"100 x 80"),l&&r.a.createElement("p",null,"Sim Speed:"),r.a.createElement("button",{className:210===a?"btn--speed btn--active":"btn-speed",onClick:c},"Slow"),r.a.createElement("button",{className:140===a?"btn--speed btn--active":"btn-speed",onClick:c},"Medium"),r.a.createElement("button",{className:70===a?"btn--speed btn--active":"btn-speed",onClick:c},"Fast"))},b=function(e){var t=e.clear,n=e.generation,a=e.gridWidth,i=e.pause,o=e.start,c=a>450,l=c?"game-board-header":"game-board-header game-board-header--mobile",s=c?"Generation: ".concat(n):String(n);return r.a.createElement("header",{className:l},r.a.createElement("div",null),r.a.createElement("button",{id:"run",onClick:o},"Run"),r.a.createElement("button",{id:"pause",onClick:i},"Pause"),r.a.createElement("button",{id:"clear",onClick:t},"Clear"),r.a.createElement("p",null,s))},y=function(){return r.a.createElement("header",{className:"main-header"},"Conway's Game of Life\xa0",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life",rel:"noopener noreferrer",target:"_blank"},"(Click to learn more)"))},w=function(e){var t=document.getElementById(e);"pause"!==e&&(document.getElementById("pause").classList.remove("btn--active"),setTimeout((function(){return t.classList.remove("btn--active")}),750)),t.classList.add("btn--active")},C=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).clear=a.clear.bind(Object(u.a)(a)),a.pause=a.pause.bind(Object(u.a)(a)),a.start=a.start.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.props.run,this.props.delay)}},{key:"componentDidUpdate",value:function(e){e.delay!==this.props.delay&&this.interval&&(clearInterval(this.interval),this.interval=setInterval(this.props.run,this.props.delay))}},{key:"componenWillUnmount",value:function(){clearInterval(this.interval)}},{key:"clear",value:function(){clearInterval(this.interval),this.interval=0,this.props.clear(),w("clear")}},{key:"pause",value:function(){clearInterval(this.interval),this.interval=0,w("pause")}},{key:"start",value:function(){0===this.interval&&(this.interval=setInterval(this.props.run,this.props.delay),w("run"))}},{key:"render",value:function(){var e=this.props,t=e.addCell,n=e.changeSize,a=e.changeSpeed,i=e.delay,o=e.grid,c=e.generation,l=e.gridHeight,s=e.gridWidth;return r.a.createElement("main",null,r.a.createElement(y,null),r.a.createElement(b,{generation:c,gridWidth:s,clear:this.clear,pause:this.pause,start:this.start}),r.a.createElement(m,{addCell:t,grid:o,height:l,width:s}),r.a.createElement(v,{changeSize:n,changeSpeed:a,delay:i,gridWidth:s}),r.a.createElement(f,null))}}]),n}(a.Component),E=Object(c.b)((function(e){return{delay:e.delay,generation:e.generation,grid:e.grid,gridHeight:e.gridHeight,gridWidth:e.gridWidth}}),(function(e){return{addCell:function(t,n){return e(function(e,t){return{type:"ADD_CELL",payload:{cellCol:e,cellRow:t}}}(t,n))},changeSize:function(t,n){return e(function(e,t){return{type:"CHANGE_SIZE",payload:{gridHeight:{30:420,50:600,80:800}[t],gridWidth:{50:700,70:840,100:1e3}[e],numCols:e,numRows:t}}}(t,n))},changeSpeed:function(t){return e({type:"CHANGE_SPEED",payload:{delay:{Slow:210,Medium:140,Fast:70}[t]}})},clear:function(){return e({type:"CLEAR"})},run:function(){return e({type:"RUN"})}}}))(C),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var O=n(4),W=n(1),S=function(e){var t=e.length,n=e[0].length;return e.map((function(a,r){return a.map((function(a,i){for(var o=0,c=r-1;c<=r+1;c++)for(var l=i-1;l<=i+1;l++){if(l!==i||c!==r)e[(c+t)%t][(l+n)%n]&&o++}return a?o>1&&o<4:3===o}))}))},N=function(e,t){return Array.from({length:t},(function(){return Array.from({length:e},(function(){return Math.random()>=.6}))}))},R=function(){var e,t=(e=window.innerWidth)<500?{gridHeight:180,gridWidth:300,numCols:25,numRows:15}:e<750?{gridHeight:270,gridWidth:450,numCols:37,numRows:23}:e<900?{gridHeight:420,gridWidth:700,numCols:50,numRows:30}:e<1075?{gridHeight:600,gridWidth:840,numCols:70,numRows:50}:{gridHeight:800,gridWidth:1e3,numCols:100,numRows:80},n=t.gridHeight,a=t.gridWidth;return{delay:70,generation:0,grid:N(t.numCols,t.numRows),gridHeight:n,gridWidth:a}}(),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CELL":var n=t.payload,a=n.cellCol,r=n.cellRow;return Object(W.a)(Object(W.a)({},e),{},{grid:[].concat(Object(O.a)(e.grid.slice(0,r)),[[].concat(Object(O.a)(e.grid[r].slice(0,a)),[!0],Object(O.a)(e.grid[r].slice(a+1)))],Object(O.a)(e.grid.slice(r+1)))});case"CHANGE_SIZE":var i=t.payload,o=i.gridHeight,c=i.gridWidth,l=i.numCols,s=i.numRows;return Object(W.a)(Object(W.a)({},e),{},{generation:0,grid:N(l,s),gridHeight:o,gridWidth:c});case"CHANGE_SPEED":return Object(W.a)(Object(W.a)({},e),{},{delay:t.payload.delay});case"CLEAR":return Object(W.a)(Object(W.a)({},e),{},{generation:0,grid:e.grid.map((function(e){return e.map((function(){return!1}))}))});case"RUN":return Object(W.a)(Object(W.a)({},e),{},{generation:e.generation+1,grid:S(e.grid)});default:return e}},L=Object(l.b)(H);o.a.render(r.a.createElement(c.a,{store:L},r.a.createElement(E,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/game-of-life",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/game-of-life","/service-worker.js");k?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):j(e)}))}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.f3da7b2b.chunk.js.map